#############################################################################
# This file includes all the basic run-time defines for Avida.
# For more information, see doc/config.html
#############################################################################

VERSION_ID 2.11.0   # Do not change this value.

### GENERAL_GROUP ###
# General Settings
VERBOSITY 1       # 0 = No output at all
                  # 1 = Normal output
                  # 2 = Verbose output, detailing progress
                  # 3 = High level of details, as available
                  # 4 = Print Debug Information, as applicable
RANDOM_SEED 0     # Random number seed (0 for based on time)
SPECULATIVE 1     # Enable speculative execution
                  # (pre-execute instructions that don't affect other organisms)
POPULATION_CAP 0  # Carrying capacity in number of organisms (use 0 for no cap)
POP_CAP_ELDEST 0  # Carrying capacity in number of organisms (use 0 for no cap). 
                  # Will kill oldest organism in population, but still use birth method to place new offspring.

### TOPOLOGY_GROUP ###
# World topology
WORLD_X 60                  # Width of the Avida world
WORLD_Y 60                  # Height of the Avida world
WORLD_GEOMETRY 2            # 1 = Bounded Grid (WOLRD_X x WORLD_Y)
                            # 2 = Toroidal Grid (WOLRD_X x WORLD_Y; wraps at edges
                            # 3 = Clique (all population cells are connected)
                            # 4 = Hexagonal grid
                            # 5 = Partial
                            # 6 = 3D Lattice (under development)
                            # 7 = Random connected
                            # 8 = Scale-free (detailed below)

### CONFIG_FILE_GROUP ###
# Other configuration Files
DATA_DIR data                     # Directory in which config files are found
EVENT_FILE events.cfg             # File containing list of events during run
ANALYZE_FILE analyze.cfg          # File used for analysis mode
ENVIRONMENT_FILE environment.cfg  # File that describes the environment

#include INST_SET=instset-heads.cfg

### MUTATION_GROUP ###
# Mutation rates
COPY_MUT_PROB 0.0075          # Mutation rate (per copy)
COPY_INS_PROB 0.0             # Insertion rate (per copy)
COPY_DEL_PROB 0.0             # Deletion rate (per copy)
COPY_UNIFORM_PROB 0.0         # Uniform mutation probability (per copy)
                              # - Randomly apply insertion, deletion or point mutation
COPY_SLIP_PROB 0.0            # Slip rate (per copy)
POINT_MUT_PROB 0.0            # Mutation rate (per-location per update)
DIV_MUT_PROB 0.0              # Mutation rate (per site, applied on divide)
DIV_INS_PROB 0.0              # Insertion rate (per site, applied on divide)
DIV_DEL_PROB 0.0              # Deletion rate (per site, applied on divide)
DIV_UNIFORM_PROB 0.0          # Uniform mutation probability (per site, applied on divide)
                              # - Randomly apply insertion, deletion or point mutation
DIV_SLIP_PROB 0.0             # Slip rate (per site, applied on divide)
DIVIDE_MUT_PROB 0.0           # Mutation rate (max one, per divide)
DIVIDE_INS_PROB 0.05          # Insertion rate (max one, per divide)
DIVIDE_DEL_PROB 0.05          # Deletion rate (max one, per divide)
DIVIDE_UNIFORM_PROB 0.0       # Uniform mutation probability (per divide)
                              # - Randomly apply insertion, deletion or point mutation
DIVIDE_SLIP_PROB 0.0          # Slip rate (per divide) - creates large deletions/duplications
DIVIDE_POISSON_MUT_MEAN 0.0   # Mutation rate (Poisson distributed, per divide)
DIVIDE_POISSON_INS_MEAN 0.0   # Insertion rate (Poisson distributed, per divide)
DIVIDE_POISSON_DEL_MEAN 0.0   # Deletion rate (Poisson distributed, per divide)
DIVIDE_POISSON_SLIP_MEAN 0.0  # Slip rate (Poisson distributed, per divide)
INJECT_INS_PROB 0.0           # Insertion rate (per site, applied on inject)
INJECT_DEL_PROB 0.0           # Deletion rate (per site, applied on inject)
INJECT_MUT_PROB 0.0           # Mutation rate (per site, applied on inject)
SLIP_FILL_MODE 0              # Fill insertions from slip mutations with:
                              # 0 = Duplication
                              # 1 = nop-X
                              # 2 = Random
                              # 3 = scrambled
                              # 4 = nop-C
SLIP_COPY_MODE 0              # How to handle 'on-copy' slip mutations:
                              # 0 = actual read head slip
                              # 1 = instant large mutation (obeys slip mode)
PARENT_MUT_PROB 0.0           # Per-site, in parent, on divide
SPECIAL_MUT_LINE -1           # If this is >= 0, ONLY this line is mutated
META_COPY_MUT 0.0             # Prob. of copy mutation rate changing (per gen)
META_STD_DEV 0.0              # Standard deviation of meta mutation size.
MUT_RATE_SOURCE 1             # 1 = Mutation rates determined by environment.
                              # 2 = Mutation rates inherited from parent.

### REPRODUCTION_GROUP ###
# Birth and Death config options
DIVIDE_FAILURE_RESETS 0   # When Divide fails, organisms are interally reset
BIRTH_METHOD 0            # Which organism should be replaced when a birth occurs?
                          # 0 = Random organism in neighborhood
                          # 1 = Oldest in neighborhood
                          # 2 = Largest Age/Merit in neighborhood
                          # 3 = None (use only empty cells in neighborhood)
                          # 4 = Random from population (Mass Action)
                          # 5 = Oldest in entire population
                          # 7 = Organism faced by parent
                          # 8 = Next grid cell (id+1)
                          # 9 = Largest energy used in entire population
                          # 10 = Largest energy used in neighborhood
                          # 11 = Local neighborhood dispersal
                          # 12 = Kill offpsring after recording birth stats (for behavioral trials)
                          # 13 = Kill parent and offpsring (for behavioral trials)
PREFER_EMPTY 1            # Overide BIRTH_METHOD to preferentially choose empty cells for offsping?
ALLOW_PARENT 1            # Should parents be considered when deciding where to place offspring?
DISPERSAL_RATE 0.0        # Rate of dispersal under birth method 11
                          # (poisson distributed random connection list hops)
DEATH_PROB 0.0            # Probability of death when dividing.
DEATH_METHOD 2            # When should death by old age occur?
                          # 0 = Never
                          # 1 = When executed AGE_LIMIT (+deviation) total instructions
                          # 2 = When executed genome_length * AGE_LIMIT (+dev) instructions
AGE_LIMIT 20              # See DEATH_METHOD
AGE_DEVIATION 0           # Creates a normal distribution around AGE_LIMIT for time of death
JUV_PERIOD 0              # Number of CPU cycles before newborn orgs can execute various instructions / behaviors.
ALLOC_METHOD 0            # When allocating blank tape, how should it be initialized?
                          # 0 = Allocated space is set to default instruction.
                          # 1 = Set to section of dead genome (creates potential for recombination)
                          # 2 = Allocated space is set to random instruction.
DIVIDE_METHOD 1           # 0 = Divide leaves state of mother untouched.
                          # 1 = Divide resets state of mother(effectively creating 2 offspring)
                          # 2 = Divide resets state of current thread only 
GENERATION_INC_METHOD 1   # 0 = Only increase generation of offspring on divide.
                          # 1 = Increase generation of both parent and offspring
                          #    (suggested with DIVIDE_METHOD 1).
RESET_INPUTS_ON_DIVIDE 0  # Reset environment inputs of parent upon successful divide.
INHERIT_MERIT 1           # Should merit be inhereted from mother parent? (in asexual)
INHERIT_MULTITHREAD 0     # Should offspring of parents with multiple threads be marked multithreaded?

### DIVIDE_GROUP ###
# Divide restrictions and triggers - settings describe conditions for a successful divide
OFFSPRING_SIZE_RANGE 2.0      # Maximal differential between offspring and parent length.
                              # (Checked BEFORE mutations applied on divide.)
MIN_COPIED_LINES 0.5          # Code fraction that must be copied before divide
MIN_EXE_LINES 0.5             # Code fraction that must be executed before divide
MIN_GENOME_SIZE 0             # Minimum number of instructions allowed in a genome. 0 = OFF
MAX_GENOME_SIZE 0             # Maximum number of instructions allowed in a genome. 0 = OFF
MIN_CYCLES 0                  # Min number of CPU cycles (age) required before reproduction.
REQUIRE_ALLOCATE 1            # (Original CPU Only) Require allocate before divide?
REQUIRED_TASK -1              # Task ID required for successful divide
IMMUNITY_TASK -1              # Task providing immunity from the required task
REQUIRED_REACTION -1          # Reaction ID required for successful divide
IMMUNITY_REACTION -1          # Reaction ID that provides immunity for successful divide
REQUIRE_SINGLE_REACTION 0     # If set to 1, at least one reaction is required for a successful divide
REQUIRED_BONUS 0.0            # Required bonus to divide
REQUIRE_EXACT_COPY 0          # Require offspring to be an exact copy (checked before divide mutations)
REQUIRED_RESOURCE -1          # ID of resource required in organism's internal bins for successful
                              #   divide (resource not consumed)
REQUIRED_RESOURCE_LEVEL 0.0   # Level of resource needed for REQUIRED_RESOURCE
REQUIRED_PRED_HABITAT -1      # Required resource habitat type in cell for predators to reproduce.
REQUIRED_PRED_HABITAT_VALUE 0 # Level of resource needed for REQUIRED_PRED_HABITAT.
REQUIRED_PREY_HABITAT -1      # Required resource habitat type in cell for prey to reproduce.
REQUIRED_PREY_HABITAT_VALUE 0.0 #Level of resource needed for REQUIRED_PREY_HABITAT
IMPLICIT_REPRO_BONUS 0        # Call Inst_Repro to divide upon achieving this bonus. 0 = OFF
IMPLICIT_REPRO_CPU_CYCLES 0   # Call Inst_Repro after this many cpu cycles. 0 = OFF
IMPLICIT_REPRO_TIME 0         # Call Inst_Repro after this time used. 0 = OFF
IMPLICIT_REPRO_END 0          # Call Inst_Repro after executing the last instruction in the genome.
IMPLICIT_REPRO_ENERGY 0.0     # Call Inst_Repro if organism accumulates this amount of energy.

### RECOMBINATION_GROUP ###
# Sexual Recombination and Modularity
RECOMBINATION_PROB 1.0  # Probability of recombination in div-sex
MAX_BIRTH_WAIT_TIME -1  # Updates incipiant orgs can wait for crossover (-1 = unlimited)
MODULE_NUM 0            # Number of modules in the genome
CONT_REC_REGS 1         # Are (modular) recombination regions continuous?
CORESPOND_REC_REGS 1    # Are (modular) recombination regions swapped randomly
                        #  or with corresponding positions?
TWO_FOLD_COST_SEX 0     # 0 = Both offspring are born (no two-fold cost)
                        # 1 = only one recombined offspring is born.
SAME_LENGTH_SEX 0       # 0 = Recombine with any genome
                        # 1 = Recombine only w/ same length
ALLOW_MATE_SELECTION 0  # Allow organisms to select mates (requires instruction set support)

### ARCHETECTURE_GROUP ###
# Details on how CPU should work
IO_EXPIRE 1  # Is the expiration functionality of '-expire' I/O instructions enabled?


### REVERSION_GROUP ###
# Mutation Reversion
# Most of these slow down avida a lot, and should be set to 0.0 normally.
REVERT_FATAL 0.0           # Prob of lethal mutations being reverted on birth
REVERT_DETRIMENTAL 0.0     # Prob of harmful (but non-lethal) mutations reverting on birth
REVERT_NEUTRAL 0.0         # Prob of neutral mutations being reverted on birth
REVERT_BENEFICIAL 0.0      # Prob of beneficial mutations being reverted on birth
REVERT_TASKLOSS 0.0        # Prob of mutations that cause task loss (without any gains) being reverted
STERILIZE_FATAL 0.0        # Prob of lethal mutations steralizing an offspring (typically no effect!)
STERILIZE_DETRIMENTAL 0.0  # Prob of harmful (but non-lethal) mutations steralizing an offspring
STERILIZE_NEUTRAL 0.0      # Prob of neutral mutations steralizing an offspring
STERILIZE_BENEFICIAL 0.0   # Prob of beneficial mutations steralizing an offspring
STERILIZE_TASKLOSS 0.0     # Prob of mutations causing task loss steralizing an offspring
STERILIZE_UNSTABLE 0       # Should genotypes that cannot replicate perfectly not be allowed to replicate?
NEUTRAL_MAX 0.0            # Percent benifical change from parent fitness to be considered neutral.
NEUTRAL_MIN 0.0            # Percent deleterious change from parent fitness to be considered neutral.

### TIME_GROUP ###
# Time Slicing
AVE_TIME_SLICE 30            # Average number of CPU-cycles per org per update
SLICING_METHOD 1             # 0 = CONSTANT: all organisms receive equal number of CPU cycles
                             # 1 = PROBABILISTIC: CPU cycles distributed randomly, proportional to merit.
                             # 2 = INTEGRATED: CPU cycles given out deterministicly, proportional to merit
                             # 5 = CONSTANT BURST: all organisms receive equal number of CPU cycles, in SLICING_BURST_SIZE chunks
SLICING_BURST_SIZE 1         # Sets the scheduler burst size for SLICING_METHOD 5.
BASE_MERIT_METHOD 4          # How should merit be initialized?
                             # 0 = Constant (merit independent of size)
                             # 1 = Merit proportional to copied size
                             # 2 = Merit prop. to executed size
                             # 3 = Merit prop. to full size
                             # 4 = Merit prop. to min of executed or copied size
                             # 5 = Merit prop. to sqrt of the minimum size
                             # 6 = Merit prop. to num times MERIT_BONUS_INST is in genome.
BASE_CONST_MERIT 100         # Base merit valse for BASE_MERIT_METHOD 0
MERIT_BONUS_INST 0           # Instruction ID to count for BASE_MERIT_METHOD 6
MERIT_BONUS_EFFECT 0         # Amount of merit earn per instruction for BASE_MERIT_METHOD 6 (-1 = penalty, 0 = no effect)
FITNESS_VALLEY 0             # in BASE_MERIT_METHOD 6, this creates valleys from
                             # FITNESS_VALLEY_START to FITNESS_VALLEY_STOP
                             # (0 = off, 1 = on)
FITNESS_VALLEY_START 0       # if FITNESS_VALLEY = 1, orgs with num_key_instructions
                             # from FITNESS_VALLEY_START to FITNESS_VALLEY_STOP
                             # get fitness 1 (lowest)
FITNESS_VALLEY_STOP 0        # if FITNESS_VALLEY = 1, orgs with num_key_instructions
                             # from FITNESS_VALLEY_START to FITNESS_VALLEY_STOP
                             # get fitness 1 (lowest)
DEFAULT_BONUS 1.0            # Initial bonus before any tasks
MERIT_DEFAULT_BONUS 0        # Instead of inheriting bonus from parent, use this value instead (0 = off)
MERIT_INC_APPLY_IMMEDIATE 0  # Should merit increases (above current) be applied immediately, or delayed until divide?
TASK_REFRACTORY_PERIOD 0.0   # Number of updates after taske until regain full value
FITNESS_METHOD 0             # 0 = default, 1 = sigmoidal, 
FITNESS_COEFF_1 1.0          # 1st FITNESS_METHOD parameter
FITNESS_COEFF_2 1.0          # 2nd FITNESS_METHOD parameter
MAX_CPU_THREADS 1            # Maximum number of Threads a CPU can spawn
THREAD_SLICING_METHOD 0      # Formula for allocating CPU cycles across threads in an organism
                             #   (num_threads-1) * THREAD_SLICING_METHOD + 1
                             # 0 = One thread executed per time slice.
                             # 1 = All threads executed each time slice.
NO_CPU_CYCLE_TIME 0          # Don't count each CPU cycle as part of gestation time
MAX_LABEL_EXE_SIZE 1         # Max nops marked as executed when labels are used


### GENEOLOGY_GROUP ###
# Geneology
THRESHOLD 3           # Number of organisms in a genotype needed for it
                      #   to be considered viable.
TEST_CPU_TIME_MOD 20  # Time allocated in test CPUs (multiple of length)


### HOARD_RESOURCE_GROUP ###
# Resource Hoarding Parameters
USE_RESOURCE_BINS 0             # Enable resource bin use.  This serves as a guard on most resource hoarding code.
ABSORB_RESOURCE_FRACTION .0025  # Fraction of available environmental resource an organism absorbs.
MULTI_ABSORB_TYPE 0             # What to do if a collect instruction is called on a range of resources.
                                #  0 = absorb a random resource in the range
                                #  1 = absorb the first resource in the range
                                #  2 = absorb the last resource in the range
                                #  3 = absorb ABSORB_RESOURCE_FRACTION / (# of resources in range) of each resource in the range
MAX_TOTAL_STORED -1             # Maximum total amount of all resources an organism can store.
                                #  <0 = no maximum
USE_STORED_FRACTION 1.0         # The fraction of stored resource to use.
ENV_FRACTION_THRESHOLD 1.0      # The fraction of available environmental resource to compare available stored resource to when deciding whether to use stored resource.
RETURN_STORED_ON_DEATH 1        # Return an organism's stored resources to the world when it dies?
SPLIT_ON_DIVIDE 1               # Split mother cell's resources between two daughter cells on division?
COLLECT_SPECIFIC_RESOURCE 0     # Resource to be collected by the "collect-specific" instruction
RESOURCE_GIVEN_ON_INJECT 0      # Units of collect-specific resources given to organism upon injection.
RESOURCE_GIVEN_AT_BIRTH 0       # Units of collect-specific resources given to offspring upon birth.

### ANALYZE_GROUP ###
# Analysis Settings
MAX_CONCURRENCY -1  # Maximum number of analyze threads, -1 == use all available.
ANALYZE_OPTION_1    # String variable accessible from analysis scripts
ANALYZE_OPTION_2    # String variable accessible from analysis scripts


### COLORS_GROUP ###
# Output colors for when data files are printed in HTML mode.
# There are two sets of these; the first are for lineages,
# and the second are for mutation tests.
COLOR_DIFF CCCCFF        # Color to flag stat that has changed since parent.
COLOR_SAME FFFFFF        # Color to flag stat that has NOT changed since parent.
COLOR_NEG2 FF0000        # Color to flag stat that is significantly worse than parent.
COLOR_NEG1 FFCCCC        # Color to flag stat that is minorly worse than parent.
COLOR_POS1 CCFFCC        # Color to flag stat that is minorly better than parent.
COLOR_POS2 00FF00        # Color to flag stat that is significantly better than parent.
COLOR_MUT_POS 00FF00     # Color to flag stat that has changed since parent.
COLOR_MUT_NEUT FFFFFF    # Color to flag stat that has changed since parent.
COLOR_MUT_NEG FFFF00     # Color to flag stat that has changed since parent.
COLOR_MUT_LETHAL FF0000  # Color to flag stat that has changed since parent.

### MOVEMENT_GROUP ###
# Movement Features Settings
DEADLY_BOUNDARIES 0                   # Are bounded grid border cell deadly?
                                      # If == 1, orgs stepping onto boundary cells will disappear into oblivion (aka die)
STEP_COUNTING_ERROR 0                 # % chance a step is not counted as part of easterly/northerly travel.
TRACK_BIRTH_LOCS 0                    # Log and print locations for all births place.

### SENSING_GROUP ###
# Sensing Features Settings
LOOK_DIST -1              # -1: use limits set inside look instructions
                          # >-1: limit sight distance of look instructions to this number of cells
LOOK_DISABLE 0            # 0: none
                          # 1: input habitat register
                          # 2: input sight dist sought
                          # 3: input type of search (e.g. closest vs count vs total)
                          # 4: input resource/org id sought
                          # 5: input direction faced
                          # 6: output habitat used
                          # 7: output distance used
                          # 8: output search type used
                          # 9: output resource/org id used 
                          # 10: output count (edible)
                          # 11: outptu amount/value seen
                          # 12: output id seen
                          # 13: output org forage target seen
LOOK_DISABLE_COMBO 0      # 0: none
                          # 1: return 'not found' for any food resource query
                          # 2: return 'not found' for any looking-for-predator query
                          # 3: return 'not found' for any looking-for-prey query
LOOK_DISABLE_TYPE 0       # 0: predators
                          # 1: prey
                          # 2: both predators and prey
TRACK_LOOK_SETTINGS 0     # track (final) settings for look sensor use
TRACK_LOOK_OUTPUT 0       # track (final) output from sensor use
USE_DISPLAY 0             # If 1, org display data is always 'on' (visible). If 2, org display is on and sensor does not set potential data.
USE_MIMICS 0              # If 1, org's with forage target of 1 can show a deceptive ft number (as seen by other orgs via sensor)
MIMIC_ODDS 1.0,           # Odds that a mimic will appear to other organisms as the thing it is mimicing.
SET_FT_AT_BIRTH           # Should offspring set forage target at birth? 0: No 1: Yes


### GROUPING_GROUP ###
# Group Formation Settings
PRED_PREY_SWITCH -1           # -2: no predators, but track prey stats
                              # -1: no predators in experiment 
                              #  0: don't allow a predator to switch to being a prey (prey to pred always allowed)
                              #  1: allow predators to switch to being prey
                              #  2: don't allow a predator to switch to being a prey & don't allow prey to switch via set-forage-target (via attack allowed)
PRED_EFFICIENCY 1.0           # Multiply the current bonus, merit, and resource bin amounts of the consumed prey by this value 
                              # and add to current predator values (for bonus, merit, and bin consumption instructions).
PRED_EFFICIENCY_POISON  1.0,  # Multiply the current bonus, merit, and resource bin amounts of the consumed prey by this value
                              # and subtract from current predator values if this prey is poisonous (ft == 2).
PRED_ODDS 1.0                 # Probability of success for predator 'attack' instructions.
PRED_INJURY 0.0               # If an attack fails, target's bonus, merit, and internal resources are reduced by this fraction.
MIN_PREY 0                    # If positive (recommended for prey studies), predator attacks fail if num prey falls below this (0 = off).
                              # If negative (recommended for predator studies), random prey of genotype other than target will be cloned (using birth placement methods).
MAX_PRED 0                    # Population cap on number of predators (random predator will be removed when cap is exceeded).
MAX_PREY 0                    # Population cap on number of prey (random prey will be removed when cap is exceeded).      
                              # For births, classification as prey is based on parent.
TRACK_GROUP_ATTACK_DETAILS 0  # Track details around execution of EVERY group attack instructions for every update. 
                              # 1 = as string in one file. 
                              # 2 = as bits in new file for every update that this is on!"
MARKING_EXPIRE_DATE -1  # Number of updates markings in cells will remain effective on territory move.


### DEPRECATED_GROUP ###
# DEPRECATED (New functionality listed in comments)
ANALYZE_MODE 0                 # 0 = Disabled
                               # 1 = Enabled
                               # 2 = Interactive
                               # DEPRECATED: use command line options -a[nalyze] or -i[nteractive])
LEGACY_GRID_LOCAL_SELECTION 0  # Enable legacy grid local mate selection.
                               # DEPRECATED: Birth chameber now uses population structure)
