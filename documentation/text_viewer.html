<html>
<head>
  <title>Avida : The Text Viewer</title>
	<link rel="stylesheet" type="text/css" href="main.css" />
</head>
<body>

<div class="revision">Written 2009-04-02 BDB</div>

<p><a href="index.html">Return to the Index</a></p>
<hr />

<div align="center">
<h1>The Text Viewer</h1>
</div>

<p>The viewer has a number of one character commands that can be typed while
the program is running.  Often the most common commands are shown on the screen
between square brackets (for example <b>[Q]</b>).  A list of the most common 
commands:</P>

<UL>
  <LI> <b>Q</b> -- Quit the program
  <LI> <b>M</b> -- Switch to the map screen which shows a map of the 
       population's fitness, merit, etc.
  <LI> <b>S</b> -- Switch to the statistics sreen which shows information about 
       the population and the dominate organism
  <LI> <b>A</b> -- Switch to the analyze screen
  <LI> <b>Z</b> -- Switch to the zoom screen which shows detail about one 
       organism
  <LI> <b>H</b> -- Switch to the histogram screen which shows the abundance of
       genotypes/species in the population
  <LI> <b>E</b> -- Switch to the envioronment screen which shows the resources
       and reactions in the world
  <LI> <b>O</b> -- Switch to the options screen which shows current settings
  <LI> <b>B</b> -- Blank the screen
  <LI> <b>CTRL-L</b> -- Redraw the screen
  <LI> <b>C</b> -- Choose a different CPU to examine in detail
  <LI> <b>X</b> -- Extract organism and write a file of that organism
  <LI> <b>P</b> -- Pause/Unpause a run
  <LI> <b>N</b> -- Step forward one update
  <LI> <b><</b> and <b>></b> -- Move to a different page in a given screen
  <LI> arrow keys -- let you move around a map
  </UL>

<h2><P>Draft Documentation based on: "Avida User's Manual" C. Ofria, C.T. Brown, and C. Adami in 
<em>Introduction to Artificial Life</em> by C. Adami:</P></h2>

<P>For the most partg the text interface to avida is simple and
straightforward to use; most of the options available are listed
on the screen For exampleg at all times there is a menu bar
at the top of the screen which lists the current updateg and the
keys to press to go to any of the most used avida screens This
section further defines the function of each of these options.</P>

<h2>The Map Screen</h2>

<P>The Map screen displays the spatial representation of the population of organisms in avida The grid itself is toroidal and
typically will not fit entirely on the screen The arrow keys will
allow the users to adjust the portion of the map viewed On
computers using a "curses" interfaceg the arrow keys will often
not function properlyg in which case the number keys 8, 2, 4 and 6 can be used to move upg down left and right respectively
Here is an example map screen (showing genotype view on a color terminal):</P>
<P><img src="images/Text_View_Map_Mode.jpg" alt="Map Mode shows each creature as colored charecter" width="487" height="605" align="middle" /></P>

<p>Many different features can be displayed by the different map
views (which can be cycled through using the '<' and '>' keys)
The available map viewing styles are:</P>

<p><em>Genotype view</em>: This view of of the soup will display the
genotype at each location The most abundant genotypes
each have a unique color (or letter if colors are not available) assigned to them; all sites which are of the same color
(or letter) harbor the same genotype Creatures which
have passed the genotype threshold but are not abundant
enough to have a color of their own are represented by
white (or a '+') on the map Sub threshold genotypes are
denoted by gray (or a '.')</p>
<p><em>Species view</em>: This viewing method is only available when
speciation has been turned on. It works in a manner very
similar to the genotype view except single colors (or letters) are assigned to entire species. Additional species
(those which are less abundant) are denoted by the color
white (or marked by a *)
) Species view tends to be much
"cleaner" than genotype view for observing the current
dynamics taking place</p>

<p><em>Breed True view</em>: This view simply displays a binary
gray or white (- or *	 if no colors) indicating whether a
program at that grid point is an exact copy of its mother.
White (or a *) stands for a true breeding program.</p>

<p><em>Parasite view</em>: This view works identically to Breed
Trueg with white (or *) indicating creatures which are parasites.</p>

<p><em>Mutation view</em>: Again this view works like Breed True
where white (or *) marks those creatures that have been
hit by  mutations.</p>
<p><em>Thread view</em>: This shows the number of the thread.</p>
<p><em>Modified view</em>: </p>
<p><em>Lineage view</em>: This view works in a manner very
similar to the genotype view except single colors (or letters) are assigned to the decendents of particular ancestors.</p>

<h2>The Stats Screen</h2>

<p>This screen displays all of the current statistics about the
ongoing run A typical snapshot of the screen looks like this:</p>

<p>Starting at the upper left column of the screeng the first block
of statistics describes the current state of the soup These statistics are defined as follows:</p>

<UL>
<li>Tot Births indicates the number of creatures which have
been born during the past update.</li>
<li>Breed True is the total number of creatures currently in
the soup which are exact copies of their parents</li>
<li>Parasites is the total number of creatures which have
displayed parasitic behaviorg ie the number which have
executed instructions outside of their own memory.</li>
<li>Energy is the log of the ratio between the fitness of the
dominant genotype and the average fitness in the soup
(See Glossary).</li>
<li>Max Fitness is the highest fitness which can be found in
the soup During equilibrium this will usually be approximately the same as the fitness of the dominant genotype.</li>
<li>Max Merit is the highest merit which can be found in the
soup Since this gives no indication as to the replication
abilities of this creatureg it is typically not a very revealing
quantity.</li>
</UL>

<p>To the right of the soup status columng we have some information about the dominant genotype This section simply lists
the name of this genotypeg its ID its species ID and its age
(how many updates it has existed for) The first three of these
statistics are purely for identification purposes.</p>

<p>On the right side of the screeng more statistics are given for
a number of common measurements on the dominant genotypeg
as well as the average across all genotypes All of these statistics
are described in the Glossary.</p>

<p>In the middle left side of the screeng we have information
about the various taxonomic levels in avida; we give the current
abundance of each in the Current columng the total number of
each that have existed over the entire run in the Total columng
the average number of updates each have existed in the Ave Age
columng and finally the entropy of each in the Entropy column.</p>

<p>Finally along the bottom of this screen we list the total number of creatures which have completed each of the assortment
of tasks available in avida These numbers reect only those
creatures which have actually finished the taskg so even if every creature in the soup is capable of completing a taskg not
all of them may be listed because the newborns would not have
finished it for the first time.</p>

<H2>The Histogram Screen</H2>

<P>This screen is a histogram of the most abundant genotypes in
the population A typical screen looks like this:</P>

<p>The first number here represents the fitness of the creature;
this is the relative replication rate as compared to the other
creatures in the population.</p>

<p>Next comes the name of the genotype (For example 
109-aaaad)
This is an identifier for the genotypeg and the name of the file
it will be saved under if it is extracted The number portion
(before the dash) of the name is the length of the code for that
genotypeg and the letter sequence after the dash gives a unique
identifier for it These are never repeated throughout a single
run.</p>

<p>The repeated letter after the name is the actual histogram;
the number of letters which appear here is the relative current
abundance of the genotype This allows quick recognition of
which genotypes are dominant in the soup The letter itself
represents the species of this genotypeg so any two lines with
the same letter are of the same species.</p>

<p>Finallyg each line ends with a number which is the exact abundance of creatures currently within this genotype.</p>

<h2>The Options Screen</h2>

<p>This screen lists all of the options which are both currently
availableg and were used to initialize this run A typical screen
looks like:</p>

<p>The upper left corner of this screen gives information about the
active genotype in the soupg and the remainder of the upper
portions of the screen list values from the genesis fileg and
what they were initialized to.</p>

<p>The lower part of the screen (within a box) shows the special
options available to the user They are:</p>

<p>[H]istogram Screen: This will go to the histogram screen
described above.</p>

<P>[B]lank Screen: This option will clear the screen making
avida run marginally faster (since it will not be wasting
much CPU time on the display).</P>

<p>[R]edraw Screen: If the screen gets garbledg this will erase
it and refresh all text which is supposed to appear.</p>

<P>[C]hoose New CPU: This option will put avida in map
mode with the cursor on the screen Position the cursor
over the CPU you would like to selectg and press fienter
Additionallyg in the Windows version of avida the mouse
can be used to select CPUs while in this mode A single
click highlights the CPU targetedg and a double click selects it as the new active CPUg and exits from this mode
The selected CPUs inner workings and genome can then
be viewed in the Zoom screen (see below).</P>

<p>[E]xtract Creature: This will save the genotype of the
active creature (the one currently selected) to a file by the
same name as the genotype An extracted creature will
include all of its statistics as comments (gestation time
fitness tasks completed etc) and can be loaded into
another soup without modifying the file.</p>

<p>[P]ause: Freezes activity in the soupg but still allows navigation through the interface and examination of the soup
Additionallyg many modes have additional options when
the soup is paused.</p>

<p>[N]ext Update: When pausedg this will advance the soup
a single update.</p>

<H2>The Zoom Screen</H2>

This screen contains all of the information about the state of
the active CPU Here is a typical screen shot:

The column on the left of the screen gives all of the current
statistics for this CPUg and the right of the screen contains
information about the actual hardware in the CPU; the memoryg
the stackg the registers and the I/O buffers
The execution statistics recorded here are:
<UL>
<li>Gestation: This is the gestation time for the creature
(the number of instructions it needs to execute in order
to copy itself) If the creature has not copied itselfg a zero
appears here.</li>
<li>CurrentMerit: This is the merit which the creature is
currently building during this gestation cycle Every time
a new task is completedg this value will increase appropriately When a divide occursg the current merit will be
reset to its base value (typically the creature size)g and the
value it was at before the divide will be used to determine
how much CPU time it should get.</li>
<li>LastMerit: This is the merit which determines how much
CPU time this creature gets It is locked in when a creadivides (transferred from the current merit)g or when
a creature is first borng it is initialized to the merit of its
parent.</li>
<li>Fitness: As described elsewhereg fitness is the relative
replication rate of this creature.</li>
<li>Offspring: The number of offspring which this creature
has produced.</li>
<li>Errors: Every time the creature tries to execute an instruction and fails (egg tries to allocate negative space)
this value is incremented This has no feedback into the
soup; it is only for the reference of the user.</li>
<li>Age: The number of updates that this creature has lived.</li>
<li>Executed: The number of instructions this creature has
executed since it was born.</li>
<li>Last Divide: The number of instructions this creature
has executed since its last divide.</li>
<li>Flags: There are a number of flags within a CPU which
can be set; a corresponding letter will appear in this field
when this is the case The flags are   A: Allocated (the
creature has allocated memory for itself which it has not
yet divided off) I: Injected (the creature was injected
into the soup by the user) M: Mutated (an instruction
has been struck by a point mutation) P: Parasite (the
creature has executed code from within another
s memory) T: True Copy (the creature is an exact copy of its
parent).</li>
<li>Facing or Executing: This attribute gives the direction
in which the creature is pointed Facing indicates that instructions which involve other creatures will use this creatureg while Executing means that the code in the specified
creature is actually being run (parasitically) by this creature
s CPU.</li>
</UL>
<p>This screen is especially useful while avida is paused The
space bar will cause the active creature to advance a single instructiong and the return key will cause it to advance a full
update In this wayg the execution of the creature can be fully
examined.</p>
<hr />
<p><a href="index.html">Return to the Index</a></p>
    
</body>
</html>
